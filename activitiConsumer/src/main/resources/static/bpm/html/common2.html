<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>公共页面</title>
    <link rel="stylesheet" href="../js/ele/index.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
<header>
    <img src="../images/logo.png" alt="">
    <span class="com-name">业务流程管理平台</span>
</header>
<div>
    <div class="side" id="side">
        <div id="menu" class="menu">
            <el-menu default-active="2" unique-opened class="el-menu-vertical-demo" @open="handleOpen" @close="handleClose">
                <el-submenu index="1">
                    <template slot="title"><i class="el-icon-menu"></i>基础管理</template>
                    <el-menu-item index="1-1">组织管理</el-menu-item>
                    <el-menu-item index="1-2">用户管理</el-menu-item>
                </el-submenu>
                <el-submenu index="2">
                    <template slot="title"><i class="el-icon-setting"></i>权限管理</template>
                    <el-menu-item index="2-1">模块管理</el-menu-item>
                    <el-menu-item index="2-2">角色管理</el-menu-item>
                </el-submenu>
            </el-menu>

        </div>
    </div>
    <div class="main-wrapper">
        <div class="nav-bar">
            <span class="position-info">您现在的位置：<a>公文管理</a> &gt; <span class="current-position">公文会签</span></span>
        </div>
        <div class="tool" id="tool">
            <el-button type="primary" size="">新增</el-button>
            <el-button size="">修改</el-button>
            <el-button size="">删除</el-button>
        </div>
        <div class="content-wrapper relative">
            <div id="tree" class="tree-wrapper">
                    <el-tree
                            :data="data2"
                            node-key="id"
                            ref="tree"
                            highlight-current
                            :expand-on-click-node="false"
                            @node-click="getKey"
                            :props="defaultProps">
                    </el-tree>
                </div>
            <div class="" id="form">
                <div class="from-box">
                    <el-form :model="form1" :inline="true" :model="formInline" class="demo-form-inline">
                        <el-form-item   label="分类编号：" :label-width="formLabelWidth">
                            <el-input v-model="form1.code"  auto-complete="off"></el-input>
                        </el-form-item>
                        <el-form-item   label="分类名称：" :label-width="formLabelWidth">
                            <el-input v-model="form1.name" auto-complete="off"></el-input>
                        </el-form-item>
                        <el-form-item   label="上级编码：" :label-width="formLabelWidth">
                            <el-input v-model="form1.id"  auto-complete="off"></el-input>
                        </el-form-item>
                        <div class="form-block">
                            <el-form-item   label="分类描述：" :label-width="formLabelWidth">
                                <el-input type="textarea" :autosize="{ minRows: 6, maxRows: 6}" v-model="form1.describe"  auto-complete="off"></el-input>
                            </el-form-item>
                        </div>
                        <div class="form-block">
                            <el-form-item   label="全路径：" :label-width="formLabelWidth">
                                <el-input type="textarea" autosize v-model="form1.classify"  auto-complete="off"></el-input>
                            </el-form-item>
                        </div>
                        <div class="btn-box">
                            <el-form-item  :label-width="formLabelWidth">
                                <el-button type="primary" @click="save1"> 保 存 </el-button>
                                <el-button type="" > 取 消 </el-button>
                            </el-form-item>
                        </div>


                    </el-form>
                </div>

            </div>

        </div>
        <div class="foot-biu">
             四川新迎顺信息技术股份有限公司
        </div>
    </div>
</div>
<div id="dialog">
    <!--编辑弹框-->
    <el-dialog title="编辑" :visible.sync="editFormVisible">
        <el-form :model="editForm" :inline="true" :model="formInline" class="demo-form-inline">
            <el-form-item   label="组织编号" :label-width="formLabe2Width">
                <el-input v-model="editForm.code"  auto-complete="off"></el-input>
            </el-form-item>
            <el-form-item   label="组织名称" :label-width="formLabe2Width">
                <el-input v-model="editForm.name" auto-complete="off"></el-input>
            </el-form-item>
            <el-form-item   label="组织负责人" :label-width="formLabe2Width">
                <el-input v-model="editForm.principal"  auto-complete="off"></el-input>
            </el-form-item>

            <el-form-item   label="创建时间" :label-width="formLabe2Width">
                <el-date-picker
                        format="yyyy-MM-dd"
                        v-model="editForm.createDate"
                        type="date"
                        placeholder="选择日期"
                        width="195"
                        @change="editFormCreateDate">
                </el-date-picker>
            </el-form-item>
            <el-form-item   label="生效时间" :label-width="formLabe2Width">
                <el-date-picker
                        format="yyyy-MM-dd"
                        v-model="editForm.starDate"
                        type="date"
                        placeholder="选择日期"
                        width="190"
                        @change="editFormStartDate">
                </el-date-picker>
            </el-form-item>
            <el-form-item   label="失效时间" :label-width="formLabe2Width">
                <el-date-picker
                        format="yyyy-MM-dd"
                        v-model="editForm.endDate"
                        type="date"
                        placeholder="选择日期范围"
                        width="190"
                        @change="editFormEndDate">
                </el-date-picker>
            </el-form-item>

        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button @click="editFormVisible = false">取 消</el-button>
            <el-button type="primary" @click="submitForm">确 定</el-button>
        </div>
    </el-dialog>
    <!--新增弹框-->
    <el-dialog title="新增" :visible.sync="addFormVisible">
        <el-form :model="addForm" :inline="true" :model="formInline" class="demo-form-inline">
            <el-form-item   label="组织编号" :label-width="formLabe2Width">
                <el-input v-model="addForm.code"  auto-complete="off"></el-input>
            </el-form-item>
            <el-form-item   label="组织名称" :label-width="formLabe2Width">
                <el-input v-model="addForm.name" auto-complete="off"></el-input>
            </el-form-item>
            <el-form-item   label="组织负责人" :label-width="formLabe2Width">
                <el-input v-model="addForm.principal"  auto-complete="off"></el-input>
            </el-form-item>

            <el-form-item   label="创建时间" :label-width="formLabe2Width">
                <el-date-picker
                        format="yyyy-MM-dd"
                        v-model="addForm.createDate"
                        type="date"
                        placeholder="选择日期"
                        width="190"
                        @change="dateChange">
                </el-date-picker>
            </el-form-item>
            <el-form-item   label="生效时间" :label-width="formLabe2Width">
                <el-date-picker
                        format="yyyy-MM-dd"
                        v-model="addForm.starDate"
                        type="date"
                        placeholder="选择日期"
                        width="190"
                >
                </el-date-picker>
            </el-form-item>
            <el-form-item   label="失效时间" :label-width="formLabe2Width">
                <el-date-picker
                        format="yyyy-MM-dd"
                        v-model="addForm.endDate"
                        type="date"
                        placeholder="选择日期范围"
                        width="190"
                        @change="dateChange">
                </el-date-picker>
            </el-form-item>

        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button @click="addFormVisible = false">取 消</el-button>
            <el-button type="primary" @click="addSubmitForm">确 定</el-button>
        </div>
    </el-dialog>

    <!--查询弹框-->
    <el-dialog title="高级查询" :visible.sync="queryFormVisible">
        <el-form :model="queryForm" :inline="true" :model="formInline" class="demo-form-inline query-form">
            <el-form-item   label="姓名" :label-width="formLabe2Width">
                <el-input v-model="queryForm.name"  auto-complete="off"></el-input>
            </el-form-item>
            <el-form-item   label="时间段" :label-width="formLabe2Width">
                <el-date-picker
                        class="el-input"
                        format="yyyy-MM-dd"
                        v-model="queryForm.date"
                        type="daterange"
                        placeholder="选择日期范围"
                        width="190"
                        @change="dateChange">
                </el-date-picker>
            </el-form-item>
            <el-form-item   label="年龄" :label-width="formLabe2Width">
                <el-input v-model="queryForm.name"  auto-complete="off"></el-input>
            </el-form-item>
            <el-form-item   label="部门" :label-width="formLabe2Width">
                <el-input v-model="queryForm.name" auto-complete="off"></el-input>
            </el-form-item>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button @click="queryFormVisible = false">取 消</el-button>
            <el-button type="primary" @click="querySubForm">查 询</el-button>
        </div>
    </el-dialog>
</div>
<!-- 先引入 Vue -->
<script src="../js/ele/vue.js"></script>
<script src="../js/ele/vue-resource.js"></script>
<script src="../js/ele/vue-router.js"></script>
<!-- 引入组件库 -->
<script src="../js/ele/index.js"></script>
<script src="../js/jquery.min.js"></script>
<script src="../js/jquery.mCustomScrollbar.concat.min.js"></script>

<script>
//
    var menu = new Vue({
        el:'#menu',
        methods: {
            handleOpen:function(key, keyPath) {
                console.log(key, keyPath);
            },
            handleClose:function(key, keyPath) {
                console.log(key, keyPath);
            }
        }
    })
    //    弹出框
    var dialog = new Vue({
        el: '#dialog',
        data:{
            editFormVisible: false,
            editForm: {
                code: "",
                name: "",
                principal: "",
                createDate: "",
                starDate: "",
                endDate: ""
            },
            formLabelWidth: '180px',
            addFormVisible: false,
            addForm: {
                code: "",
                name: "",
                principal: "",
                createDate: "",
                starDate: "",
                endDate: ""
            },
            formLabe2Width: '180px',
            queryFormVisible:false,
            queryForm:{
                name:'',
                date:''
            }
        },
        methods: {
//            提交编辑
            submitForm:function(formName) {
                var that =this
                this.$confirm('确认修改吗？', '提示', {
                    type: 'warning'
                }).then(function () {
                    dialog.editFormVisible = false;
                    console.log(dialog.editForm)
                })
            },
            resetForm:function(formName) {
                this.$refs[formName].resetFields();
            },
//          提交新增
            addSubmitForm:function () {
                var that =this
                this.$confirm('确认提交吗？', '提示', {
                    type: 'warning'
                }).then(function () {
                    console.log(dialog.addForm)
                    dialog.addFormVisible = false;
                })
            },
//            弹框里面的日期控件
            editFormEndDate:function (val) {
                this.editForm.endDate = val;
                console.log(this.editForm)
                console.log(table.tableData)
            },
            editFormStartDate:function (val) {
                this.editForm.starDate = val;
                console.log(this.editForm)
                console.log(table.tableData)
            },
            editFormCreateDate:function (val) {
                this.editForm.createDate = val;
                console.log(this.editForm)
                console.log(table.tableData)
            },
            dateChange:function (val) {

            },
//            确认查询
            querySubForm:function () {
                var that =this
                dialog.queryFormVisible = false;
            }
        }
    });
    var tool = new Vue({
        el:'#tool',
        methods:{

        }
    })
    //    树形
    var tree = new Vue({
        el: '#tree',
        data: {
            data2: [{
                id: 1,
                label: '一级 1',
                children: [{
                    id: 4,
                    label: '二级 1-1',
                    children: [{
                        id: 9,
                        label: '三级 1-1-1'
                    }, {
                        id: 10,
                        label: '三级 1-1-2'
                    }]
                }]
            }, {
                id: 2,
                label: '一级 2',
                children: [{
                    id: 5,
                    label: '二级 2-1'
                }, {
                    id: 6,
                    label: '二级 2-2'
                }]
            },{
                id: 2,
                label: '一级 2',
                children: [{
                    id: 5,
                    label: '二级 2-1'
                }, {
                    id: 6,
                    label: '二级 2-2'
                }]
            },{
                id: 2,
                label: '一级 2',
                children: [{
                    id: 5,
                    label: '二级 2-1'
                }, {
                    id: 6,
                    label: '二级 2-2'
                }]
            },{
                id: 2,
                label: '一级 2',
                children: [{
                    id: 5,
                    label: '二级 2-1'
                }, {
                    id: 6,
                    label: '二级 2-2'
                }]
            },{
                id: 2,
                label: '一级 2',
                children: [{
                    id: 5,
                    label: '二级 2-1'
                }, {
                    id: 6,
                    label: '二级 2-2'
                }]
            },{
                id: 2,
                label: '一级 2',
                children: [{
                    id: 5,
                    label: '二级 2-1'
                }, {
                    id: 6,
                    label: '二级 2-2'
                }]
            },{
                id: 2,
                label: '一级 2',
                children: [{
                    id: 5,
                    label: '二级 2-1'
                }, {
                    id: 6,
                    label: '二级 2-2'
                }]
            }, {
                id: 3,
                label: '一级 3',
                children: [{
                    id: 7,
                    label: '二级 3-1'
                }, {
                    id: 8,
                    label: '二级 3-2'
                }]
            }],
            defaultProps: {
                children: 'children',
                label: 'label'
            }

        },
        methods: {
            getCheckedNodes:function() {
                console.log(this.$refs.tree.getCheckedNodes());
            },
            getCheckedKeys:function() {
                console.log(this.$refs.tree.getCheckedKeys());
            },
            setCheckedNodes:function() {
                this.$refs.tree.setCheckedNodes([{
                    id: 5,
                    label: '二级 2-1'
                }, {
                    id: 9,
                    label: '三级 1-1-1'
                }]);
            },
            getKey:function (data,node) {
                console.log(node);
            },
            setCheckedKeys:function() {
                this.$refs.tree.setCheckedKeys([3]);
            },
            resetChecked:function() {
                this.$refs.tree.setCheckedKeys([]);
            }

//        ,renderContent:function(h, node, data, store) {
//            return ('<span><span><span>{node.label}</span></span>'+
//            '<span style="float: right; margin-right: 20px">'+
//                '<el-button size="mini" on-click={ () => this.append(store, data) }>Append</el-button>'+
//            '<el-button size="mini" on-click={ () => this.remove(store, data) }>Delete</el-button>'+
//            '</span>'+
//            '</span>');
//        }
        }
    });
    var form = new Vue({
        el:'#form',
        data:{
            activeName: 'first',
            formLabelWidth:'180px',
            form1: {
                code: "12",
                name: "",
                id: "",
                describe: "",
                classify: ""
            },
            form2: {
                code: "2312",
                name: "",
                id: "",
                describe: "",
                classify: ""
            },
        },
        methods:{
            handleClick:function(tab, event) {
                console.log(tab, event);
            },
            save1:function () {
                this.$message({
                    showClose: true,
                    type: 'warning',
                    duration:1000000,
                    message: '您有4个文件需要进行会签！'
                });
            }
        }
    })
</script>
</body>
</html>
